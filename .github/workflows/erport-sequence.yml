name: ERPort Sequence

on:
  workflow_call:
    inputs:
      erport:
        required: true
        type: string

jobs:
  approval-1:
    runs-on: ubuntu-latest
    steps:
      - name: First Manual Approval for ${{ inputs.erport }}
        uses: hmarr/auto-approve-action@v3  # Replace with manual gate if needed

  powershell-step:
    needs: approval-1
    runs-on: windows-latest
    steps:
      - name: Run PowerShell Script for ${{ inputs.erport }}
        run: |
          Write-Host "Running script for ${{ inputs.erport }}"

  approval-2:
    needs: powershell-step
    runs-on: ubuntu-latest
    steps:
      - name: Final Manual Approval for ${{ inputs.erport }}
        uses: hmarr/auto-approve-action@v3  # Replace with manual gate if needed
